{"ast":null,"code":"function pre_wrap(cache, object, key) {\n  cache[key] = object[key];\n  delete object[key];\n}\n\nfunction post_wrap(cache, object, key) {\n  delete object[key];\n  object[key] = cache[key];\n}\n\nfunction wrap_property(api, cache, object, key) {\n  pre_wrap(cache, object, key);\n\n  object[key] = function () {\n    return cache[key];\n  };\n\n  return api;\n}\n\nfunction restore_all(api, cache, object) {\n  Object.keys(cache).forEach(post_wrap.bind(null, cache, object));\n  cache = {};\n  return api;\n}\n\nfunction wrap_object(object) {\n  var cache = {},\n      api = {};\n  api.wrap = wrap_property.bind(null, api, cache, object);\n  api.restore = restore_all.bind(null, api, cache, object);\n  return api;\n}\n\nmodule.exports = {\n  spin: wrap_object\n};","map":null,"metadata":{},"sourceType":"module"}